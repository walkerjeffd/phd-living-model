define(["jquery","underscore","backbone","d3","app/charts"],function(e,t,n,r,i){var s=n.View.extend({initialize:function(e){console.log("ScatterView: initialize"),this.simModel=e.simModel;var t=this;this.extent=null,this.listenTo(this.model,"setExtent",this.setExtent),this.chart=(new i.ScatterChart).x(function(e){return e.obsQ}).y(function(e){return e.Q}).width(275).height(295).r(2).opacity(.5).yDomain([.001,2]).xDomain([.001,2]).xScale(r.scale.log()).yScale(r.scale.log()).one2one(!0).yLabel("Sim Flow (in/d)").xLabel("Obs Flow (in/d)")},setExtent:function(e){this.extent=e,this.render()},render:function(){var e=this.extent;if(e){var n=t.filter(this.simModel.output,function(t){return t.Date>=e[0]&&t.Date<=e[1]});r.select(this.$el.children(".chart")[0]).call(this.chart.data(n))}else r.select(this.$el.children(".chart")[0]).call(this.chart.data(this.simModel.output))}});return s});