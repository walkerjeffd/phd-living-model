define(["jquery","underscore","backbone","d3","app/charts"],function(e,t,n,r,i){var s=n.View.extend({initialize:function(e){console.log("TimeseriesView: initialize"),this.simModel=e.simModel;var t=this;this.listenTo(this.model,"setExtent",this.setExtent),this.chart=(new i.TimeseriesChart).id(this.cid).x(function(e){return e.Date}).width(650).height(200).yDomain([.001,2]).yScale(r.scale.log()).yVariables(["obsQ","Q"]).yVariableLabels({obsQ:"Observed Flow (in/day)",Q:"Simulated Flow (in/day)"}).yLabel("").color(r.scale.ordinal().domain(["obsQ","Q"]).range(["black","crimson"]))},setExtent:function(e){this.chart.xDomain(e),this.render()},render:function(){r.select(this.$el.children(".chart")[0]).call(this.chart.data(this.simModel.output))}});return s});